{"version":3,"sources":["components/Phonebook.js","components/PhonebookForm.js","components/Search.js","services/persons.js","components/Notification.js","App.js","index.js"],"names":["PhonebookEntry","person","setPersons","personService","name","number","onClick","event","window","confirm","deletePerson","id","then","response","getAll","persons","Phonebook","map","i","PhonebookForm","setNotif","useState","newName","setNewName","newNumber","setnewNumber","onSubmit","preventDefault","find","newPerson","update","catch","error","status","message","className","setTimeout","data","create","returnedPerson","concat","console","log","value","onChange","target","type","Search","setNewSearch","search","setsearch","baseUrl","requests","axios","get","newObject","post","put","delete","Notification","notif","App","setSearch","numbersToShow","filter","toLowerCase","includes","useEffect","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.8fdb4667.chunk.js","sourcesContent":["const PhonebookEntry = ({ person, setPersons, personService }) => {\r\n  const handleClick = event => {\r\n    if (window.confirm(`Delete ${person.name}?`)) {\r\n      personService.deletePerson(person.id).then(response => {\r\n        personService.getAll().then(persons => {\r\n          setPersons(persons)\r\n        })\r\n      })\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      {person.name} {person.number}\r\n      <button onClick={handleClick}>delete</button>\r\n    </div>\r\n  )\r\n}\r\n\r\nconst Phonebook = ({ persons, setPersons, personService }) => {\r\n  return persons.map((person, i) => <PhonebookEntry key={i} person={person} setPersons={setPersons} personService={personService} />)\r\n}\r\n\r\nexport default Phonebook","import React, { useState } from 'react'\r\n\r\nconst PhonebookForm = ({ persons, setPersons, personService, setNotif }) => {\r\n  const [newName, setNewName] = useState('')\r\n  const [newNumber, setnewNumber] = useState('')\r\n  const handleNameChange = event => setNewName(event.target.value)\r\n  const handleNnumberChange = event => setnewNumber(event.target.value)\r\n  const handleSubmit = (event) => {\r\n    event.preventDefault()\r\n    const person = persons.find(person => person.name === newName)\r\n    if (person) {\r\n      if (window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)) {\r\n        const newPerson = { ...person, number: newNumber }\r\n        personService.update(person.id, newPerson).then(response => {\r\n          personService.getAll().then(persons => {\r\n            setPersons(persons)\r\n          })\r\n        })\r\n          .catch(error => {\r\n            if (error.response.status === 404) {\r\n              setNotif({ message: `Information of ${newPerson.name} has already been removed from server`, className: 'errorNotif' })\r\n              setTimeout(() => {\r\n                setNotif({ message: null, className: 'successNotif' })\r\n              }, 5000)\r\n              personService.getAll().then(persons => {\r\n                setPersons(persons)\r\n              })\r\n            }\r\n            else {\r\n              setNotif({ message: error.response.data.error, className: 'errorNotif' })\r\n              setTimeout(() => {\r\n                setNotif({ message: null, className: 'successNotif' })\r\n              }, 5000)\r\n            }\r\n          })\r\n      }\r\n    }\r\n    else {\r\n      const newPerson = {\r\n        name: newName,\r\n        number: newNumber\r\n      }\r\n      personService.create(newPerson)\r\n        .then(returnedPerson => {\r\n          setPersons(persons.concat(returnedPerson))\r\n          setNotif({ message: `Added ${newPerson.name}`, className: 'successNotif' })\r\n          setTimeout(() => {\r\n            setNotif({ message: null, className: 'successNotif' })\r\n          }, 5000)\r\n        })\r\n        .catch(error => {\r\n          console.log(error.response)\r\n          setNotif({ message: error.response.data.error, className: 'errorNotif' })\r\n          setTimeout(() => {\r\n            setNotif({ message: null, className: 'successNotif' })\r\n          }, 5000)\r\n        })\r\n    }\r\n  }\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit}>\r\n      <div>\r\n        name: <input value={newName} onChange={handleNameChange} />\r\n      </div>\r\n      <div>\r\n        number: <input value={newNumber} onChange={handleNnumberChange} />\r\n      </div>\r\n      <div>\r\n        <button type=\"submit\">add</button>\r\n      </div>\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default PhonebookForm","import React, { useState } from 'react'\r\n\r\nconst Search = ({ setNewSearch }) => {\r\n  const [search, setsearch] = useState('')\r\n  const handleSearch = event => {\r\n    setsearch(event.target.value)\r\n    setNewSearch(event.target.value)\r\n  }\r\n\r\n  return <>filter shown with <input value={search} onChange={handleSearch} /></>\r\n}\r\n\r\nexport default Search","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n  return axios.get(baseUrl).then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n  return axios.post(baseUrl, newObject).then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n  return axios.put(`${baseUrl}/${id}`, newObject)\r\n}\r\n\r\nconst deletePerson = id => {\r\n  return axios.delete(`${baseUrl}/${id}`)\r\n}\r\n\r\nconst requests = { getAll, create, update, deletePerson }\r\n\r\nexport default requests","const Notification = ({ notif }) => {\r\n  if (notif.message === null) return null\r\n\r\n  return (\r\n    <div className={notif.className}>\r\n      {notif.message}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Notification","import React, { useState, useEffect } from 'react'\nimport Phonebook from './components/Phonebook'\nimport PhonebookForm from './components/PhonebookForm'\nimport Search from './components/Search'\nimport personService from './services/persons'\nimport Notification from './components/Notification'\nimport './index.css'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [search, setSearch] = useState('')\n  const [notif, setNotif] = useState({ message: null, className: 'successNotif' })\n  const numbersToShow = search\n    ? persons.filter(person => person.name.toLowerCase().includes(search.toLowerCase()))\n    : persons\n\n  useEffect(() => {\n    personService.getAll().then(persons => {\n      setPersons(persons)\n    })\n  }, [])\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification notif={notif} />\n      <Search setNewSearch={setSearch} />\n      <h2>add a new</h2>\n      <PhonebookForm persons={persons} setPersons={setPersons} personService={personService} setNotif={setNotif} />\n      <h2>Numbers</h2>\n      <Phonebook persons={numbersToShow} setPersons={setPersons} personService={personService} />\n    </div>\n  )\n}\n\nexport default App","import ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(\n  <App />, \n  document.getElementById('root')\n)"],"sourceRoot":""}